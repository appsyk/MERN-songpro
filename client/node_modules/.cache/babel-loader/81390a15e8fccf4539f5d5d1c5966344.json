{"ast":null,"code":"import _defineProperty from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/sanju/mern/song_pro/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/sanju/mern/song_pro/client/src/components/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      password: '',\n      loggedIn: ''\n    };\n\n    _this.onInputChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, [e.target.value]));\n    };\n\n    _this.onRegisterHandle = function () {\n      var _this$state = _this.state,\n          username = _this$state.username,\n          password = _this$state.password;\n      console.log(1212, username, password);\n      axios.post('/api/user', {\n        username: username,\n        password: password\n      }).then(function (res) {\n        console.log(11, res.data);\n\n        if (res.data === 11000) {\n          alert('this user already exists.');\n        } else alert('User registered successfully...'); // ,\n        // this.setState({\n        //     loggedIn: true\n        // })\n\n      }).catch(function (err) {\n        return console.log(11, err);\n      });\n    };\n\n    _this.onLoginHandle = function () {\n      var _this$state2 = _this.state,\n          username = _this$state2.username,\n          password = _this$state2.password;\n      axios.get('/api/user').then(function (res) {\n        console.log(232, res.data);\n        console.log(username, password);\n        res.data.map(function (user) {\n          if (username[0] === user.username && password[0] === user.password) {\n            localStorage.setItem('userNm', username[0]);\n\n            _this.setState({\n              loggedIn: username[0]\n            });\n          } else {\n            alert('Please login with valid credentials..');\n          }\n        });\n      }).catch(function (err) {\n        return console.log(234, err);\n      });\n      console.log(username, password);\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      console.log(this.state.loggedIn);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"modal fade\",\n        id: \"loginModal\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"exampleModalLabel\",\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"modal-dialog\",\n        role: \"document\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"modal-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"modal-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmitHandle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"staticUsername\",\n        class: \"col-sm-2 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 41\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        onChange: this.onInputChange,\n        name: \"username\",\n        placeholder: \"Enter unique Username\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"form-group row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        for: \"inputPassword\",\n        class: \"col-sm-2 col-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 41\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col-sm-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        class: \"form-control\",\n        onChange: this.onInputChange,\n        name: \"password\",\n        placeholder: \"Enter Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 45\n        }\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"modal-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.onRegisterHandle,\n        class: \"btn btn-secondary\",\n        \"data-dismiss\": \"modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 33\n        }\n      }, \"Register\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.onLoginHandle,\n        class: \"btn btn-primary\",\n        \"data-dismiss\": \"modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 33\n        }\n      }, \"Login\"))))));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/sanju/mern/song_pro/client/src/components/Login.js"],"names":["React","axios","Login","state","username","password","loggedIn","onInputChange","e","setState","target","name","value","onRegisterHandle","console","log","post","then","res","data","alert","catch","err","onLoginHandle","get","map","user","localStorage","setItem","onSubmitHandle","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;IAEMC,K;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,QAAQ,EAAE,EAFN;AAGJC,MAAAA,QAAQ,EAAE;AAHN,K;;UAMRC,a,GAAgB,UAACC,CAAD,EAAO;AACnB,YAAKC,QAAL,qBACKD,CAAC,CAACE,MAAF,CAASC,IADd,EACqB,CAACH,CAAC,CAACE,MAAF,CAASE,KAAV,CADrB;AAIH,K;;UAEDC,gB,GAAmB,YAAM;AAAA,wBACU,MAAKV,KADf;AAAA,UACbC,QADa,eACbA,QADa;AAAA,UACHC,QADG,eACHA,QADG;AAErBS,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBX,QAAlB,EAA4BC,QAA5B;AACAJ,MAAAA,KAAK,CAACe,IAAN,CAAW,WAAX,EAAwB;AAAEZ,QAAAA,QAAQ,EAARA,QAAF;AAAYC,QAAAA,QAAQ,EAARA;AAAZ,OAAxB,EACKY,IADL,CACU,UAAAC,GAAG,EAAI;AACTJ,QAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ,EAAgBG,GAAG,CAACC,IAApB;;AAEA,YAAID,GAAG,CAACC,IAAJ,KAAa,KAAjB,EAAwB;AACpBC,UAAAA,KAAK,CAAC,2BAAD,CAAL;AACH,SAFD,MAEOA,KAAK,CAAC,iCAAD,CAAL,CALE,CAMT;AACA;AACA;AACA;;AACH,OAXL,EAYKC,KAZL,CAYW,UAAAC,GAAG;AAAA,eAAIR,OAAO,CAACC,GAAR,CAAY,EAAZ,EAAgBO,GAAhB,CAAJ;AAAA,OAZd;AAaH,K;;UAEDC,a,GAAgB,YAAM;AAAA,yBACa,MAAKpB,KADlB;AAAA,UACVC,QADU,gBACVA,QADU;AAAA,UACAC,QADA,gBACAA,QADA;AAGlBJ,MAAAA,KAAK,CAACuB,GAAN,CAAU,WAAV,EACKP,IADL,CACU,UAAAC,GAAG,EAAI;AACTJ,QAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBG,GAAG,CAACC,IAArB;AACAL,QAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ,EAAsBC,QAAtB;AACAa,QAAAA,GAAG,CAACC,IAAJ,CAASM,GAAT,CAAa,UAAAC,IAAI,EAAI;AACjB,cAAItB,QAAQ,CAAC,CAAD,CAAR,KAAgBsB,IAAI,CAACtB,QAArB,IAAiCC,QAAQ,CAAC,CAAD,CAAR,KAAgBqB,IAAI,CAACrB,QAA1D,EAAoE;AAChEsB,YAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BxB,QAAQ,CAAC,CAAD,CAAvC;;AACA,kBAAKK,QAAL,CAAc;AACVH,cAAAA,QAAQ,EAAEF,QAAQ,CAAC,CAAD;AADR,aAAd;AAGH,WALD,MAKM;AACFgB,YAAAA,KAAK,CAAC,uCAAD,CAAL;AACH;AACJ,SATD;AAUH,OAdL,EAeKC,KAfL,CAeW,UAAAC,GAAG;AAAA,eAAIR,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBO,GAAjB,CAAJ;AAAA,OAfd;AAgBAR,MAAAA,OAAO,CAACC,GAAR,CAAYX,QAAZ,EAAsBC,QAAtB;AACH,K;;;;;;;6BAEQ;AACLS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWG,QAAvB;AACA,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,YAAX;AAAwB,QAAA,EAAE,EAAC,YAA3B;AAAwC,QAAA,QAAQ,EAAC,IAAjD;AAAsD,QAAA,IAAI,EAAC,QAA3D;AAAoE,2BAAgB,mBAApF;AAAwG,uBAAY,MAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,cAAX;AAA0B,QAAA,IAAI,EAAC,UAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOI;AAAK,QAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAM,QAAA,QAAQ,EAAE,KAAKuB,cAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,GAAG,EAAC,gBAAX;AAA4B,QAAA,KAAK,EAAC,yBAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,KAAK,EAAC,cAAzB;AAAwC,QAAA,QAAQ,EAAE,KAAKtB,aAAvD;AAAsE,QAAA,IAAI,EAAC,UAA3E;AAAsF,QAAA,WAAW,EAAC,uBAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CADJ,eAOI;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,GAAG,EAAC,eAAX;AAA2B,QAAA,KAAK,EAAC,yBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAK,QAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,KAAK,EAAC,cAA7B;AAA4C,QAAA,QAAQ,EAAE,KAAKA,aAA3D;AAA0E,QAAA,IAAI,EAAC,UAA/E;AAA0F,QAAA,WAAW,EAAC,gBAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAFJ,CAPJ,CADJ,CAPJ,eAuBI;AAAK,QAAA,KAAK,EAAC,cAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAKM,gBAApC;AAAsD,QAAA,KAAK,EAAC,mBAA5D;AAAgF,wBAAa,OAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,EAAE,KAAKU,aAApC;AAAmD,QAAA,KAAK,EAAC,iBAAzD;AAA2E,wBAAa,OAAxF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHJ,CAvBJ,CADJ,CADJ,CADJ,CADJ;AAsCH;;;;EA/FevB,KAAK,CAAC8B,S;;AAkG1B,eAAe5B,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n\n    state = {\n        username: '',\n        password: '',\n        loggedIn: ''\n    }\n\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: [e.target.value]\n        })\n\n    }\n\n    onRegisterHandle = () => {\n        const { username, password } = this.state;\n        console.log(1212, username, password)\n        axios.post('/api/user', { username, password })\n            .then(res => {\n                console.log(11, res.data)\n\n                if (res.data === 11000) {\n                    alert('this user already exists.')\n                } else alert('User registered successfully...');\n                // ,\n                // this.setState({\n                //     loggedIn: true\n                // })\n            })\n            .catch(err => console.log(11, err))\n    }\n\n    onLoginHandle = () => {\n        const { username, password } = this.state;\n\n        axios.get('/api/user')\n            .then(res => {\n                console.log(232, res.data)\n                console.log(username, password)\n                res.data.map(user => {\n                    if (username[0] === user.username && password[0] === user.password) {\n                        localStorage.setItem('userNm', username[0])\n                        this.setState({\n                            loggedIn: username[0]\n                        })\n                    }else {\n                        alert('Please login with valid credentials..')\n                    }\n                })\n            })\n            .catch(err => console.log(234, err));\n        console.log(username, password)\n    }\n\n    render() {\n        console.log(this.state.loggedIn)\n        return (\n            <div>\n                <div class=\"modal fade\" id=\"loginModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                    <div class=\"modal-dialog\" role=\"document\">\n                        <div class=\"modal-content\">\n                            {/* <div class=\"modal-header\">\n                                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                    <span aria-hidden=\"true\">&times;</span>\n                                </button>\n                            </div> */}\n                            <div class=\"modal-body\">\n                                <form onSubmit={this.onSubmitHandle}>\n                                    <div class=\"form-group row\">\n                                        <label for=\"staticUsername\" class=\"col-sm-2 col-form-label\">Username</label>\n                                        <div class=\"col-sm-10\">\n                                            <input type=\"text\" class=\"form-control\" onChange={this.onInputChange} name='username' placeholder='Enter unique Username' />\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row\">\n                                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Password</label>\n                                        <div class=\"col-sm-10\">\n                                            <input type=\"password\" class=\"form-control\" onChange={this.onInputChange} name='password' placeholder=\"Enter Password\" />\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                            <div class=\"modal-footer\">\n                                {/* <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Register</button> */}\n                                <button type=\"submit\" onClick={this.onRegisterHandle} class=\"btn btn-secondary\" data-dismiss=\"modal\">Register</button>\n                                <button type=\"submit\" onClick={this.onLoginHandle} class=\"btn btn-primary\" data-dismiss=\"modal\">Login</button>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}